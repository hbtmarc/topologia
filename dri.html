<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ffffff" />
  <title>Proposta • Reels Mapa do Carnaval</title>

  <style>
    :root{
      --bg: #ffffff;
      --bg-alt: #f8f9fc;
      --card: #ffffff;
      --text: #1a202c;
      --text-muted: #64748b;
      --text-light: #94a3b8;
      --border: #e2e8f0;
      --accent: #3b82f6;
      --accent-light: #dbeafe;
      --accent-dark: #1e40af;
      --success: #10b981;
      --warning: #f59e0b;
      --purple: #8b5cf6;
      --shadow-sm: 0 1px 3px rgba(0,0,0,.08);
      --shadow: 0 4px 16px rgba(0,0,0,.08);
      --shadow-lg: 0 12px 48px rgba(0,0,0,.12);
      --radius: 16px;
      --radius-sm: 12px;
      --radius-lg: 24px;
      --max-width: 1200px;
      --spacing: 20px;
      --mono: 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
      --sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    html{ scroll-behavior: smooth; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: var(--sans);
      background: linear-gradient(135deg, #f0f9ff 0%, #f8fafc 50%, #faf5ff 100%);
      color: var(--text);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body::before,
    body::after {
      content: '';
      position: fixed;
      border-radius: 50%;
      opacity: 0.5;
      z-index: 0;
      pointer-events: none;
      animation: float 20s ease-in-out infinite;
    }
    body::before {
      width: 600px; height: 600px;
      background: radial-gradient(circle, rgba(59,130,246,.1) 0%, transparent 70%);
      top: -200px; right: -200px; animation-delay: -5s;
    }
    body::after {
      width: 400px; height: 400px;
      background: radial-gradient(circle, rgba(139,92,246,.1) 0%, transparent 70%);
      bottom: -150px; left: -150px;
    }
    @keyframes float {
      0%,100%{ transform: translate(0,0) scale(1); }
      33%{ transform: translate(30px,-30px) scale(1.1); }
      66%{ transform: translate(-20px,20px) scale(.9); }
    }

    a{ color:inherit; text-decoration:none; }
    button{ font-family:inherit; border:none; outline:none; }
    .wrap{ max-width: var(--max-width); margin:0 auto; padding:0 var(--spacing); position: relative; z-index:1; }

    .topbar{
      position: sticky; top:0; z-index:100;
      backdrop-filter: blur(20px) saturate(180%);
      background: rgba(255,255,255,.85);
      border-bottom: 1px solid var(--border);
      box-shadow: var(--shadow-sm);
    }
    .topbar-inner{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:16px 0; min-height:72px;
    }
    .brand{ display:flex; align-items:center; gap:12px; min-width:0; flex:1; }
    .logo{
      width:48px; height:48px; border-radius: var(--radius-sm);
      background: linear-gradient(135deg, var(--accent) 0%, var(--purple) 100%);
      box-shadow: var(--shadow); display:grid; place-items:center; flex-shrink:0;
      animation: logoEntry .6s cubic-bezier(.34,1.56,.64,1);
    }
    @keyframes logoEntry{
      from{ transform: scale(0) rotate(-180deg); opacity:0; }
      to{ transform: scale(1) rotate(0); opacity:1; }
    }
    .brand h1{
      font-size:15px; font-weight:700; margin:0; line-height:1.3; letter-spacing:-.02em;
      color: var(--text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    @media (min-width:640px){ .brand h1{ font-size:18px; } }
    .brand .sub{ display:none; font-size:13px; color: var(--text-muted); margin-top:2px; line-height:1.4; }
    @media (min-width:768px){ .brand .sub{ display:block; } }

    .actions{ display:flex; gap:8px; flex-shrink:0; }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:6px;
      border:1px solid var(--border); background: var(--card); color: var(--text);
      padding:10px 14px; border-radius: var(--radius-sm); cursor:pointer;
      transition: all .2s cubic-bezier(.4,0,.2,1); user-select:none; min-height:44px;
      font-size:14px; font-weight:500; white-space:nowrap;
    }
    .btn:hover{ transform: translateY(-2px); box-shadow: var(--shadow); border-color: var(--accent); }
    .btn:active{ transform: translateY(0); }
    .btn.primary{ border-color: var(--accent); background: var(--accent); color:white; }
    .btn.primary:hover{ background: var(--accent-dark); border-color: var(--accent-dark); }
    .btn svg{ width:18px; height:18px; }
    .btn span.mobile-hide{ display:none; }
    @media (min-width:640px){ .btn span.mobile-hide{ display:inline; } }

    main{ padding:24px 0 60px; }
    .hero{ padding:0 0 24px; animation: fadeInUp .6s ease-out; }
    @keyframes fadeInUp{ from{ opacity:0; transform: translateY(20px);} to{ opacity:1; transform: translateY(0);} }

    .title{
      font-size:28px; line-height:1.2; margin:0 0 16px; letter-spacing:-.02em; font-weight:800;
      background: linear-gradient(135deg, var(--accent) 0%, var(--purple) 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip:text;
    }
    @media (min-width:768px){ .title{ font-size:36px; } }
    @media (min-width:1024px){ .title{ font-size:42px; } }
    @media (min-width:1280px){ .title{ font-size:48px; } }
    .lead{ margin:0; color: var(--text-muted); font-size:15px; line-height:1.7; max-width:70ch; }
    @media (min-width:768px){ .lead{ font-size:16px; } }

    .chips{ display:flex; flex-wrap:wrap; gap:10px; margin-top:20px; }
    .chip{
      border:1px solid var(--border); background: var(--card); padding:10px 14px; border-radius:999px;
      font-size:13px; color: var(--text-muted); display:inline-flex; align-items:center; gap:8px;
      transition: all .3s ease; animation: chipPop .5s cubic-bezier(.34,1.56,.64,1) both;
    }
    .chip:nth-child(1){ animation-delay:.1s; }
    .chip:nth-child(2){ animation-delay:.2s; }
    .chip:nth-child(3){ animation-delay:.3s; }
    .chip:nth-child(4){ animation-delay:.4s; }
    @keyframes chipPop{ from{ opacity:0; transform: scale(.5);} to{ opacity:1; transform: scale(1);} }
    .chip:hover{ transform: translateY(-2px); box-shadow: var(--shadow-sm); }
    .chip b{ color: var(--text); font-weight:600; }
    .dot{ width:8px; height:8px; border-radius:50%; background: var(--accent); animation:pulse 2s ease-in-out infinite; }
    .dot.good{ background: var(--success); }
    .dot.warn{ background: var(--warning); }
    @keyframes pulse{ 0%,100%{ opacity:1; transform: scale(1);} 50%{ opacity:.7; transform: scale(1.2);} }

    .tabs{
      margin-top:24px; display:flex; gap:10px; overflow-x:auto; overflow-y:hidden; padding-bottom:8px;
      scrollbar-width: thin; scrollbar-color: var(--border) transparent; -webkit-overflow-scrolling: touch;
    }
    .tabs::-webkit-scrollbar{ height:6px; }
    .tabs::-webkit-scrollbar-track{ background: transparent; }
    .tabs::-webkit-scrollbar-thumb{ background: var(--border); border-radius:3px; }
    .tab{
      flex-shrink:0; border:2px solid var(--border); background: var(--card); color: var(--text-muted);
      padding:12px 18px; border-radius:999px; cursor:pointer; transition: all .3s cubic-bezier(.4,0,.2,1);
      font-size:14px; font-weight:500; display:inline-flex; gap:8px; align-items:center; white-space:nowrap;
    }
    .tab:hover{ transform: translateY(-2px) scale(1.02); box-shadow: var(--shadow); }
    .tab[aria-selected="true"]{
      color:white; border-color: var(--accent);
      background: linear-gradient(135deg, var(--accent) 0%, var(--purple) 100%);
      box-shadow: var(--shadow); transform: translateY(-2px);
    }
    .badge{ font-family: var(--mono); font-size:11px; padding:4px 8px; border-radius:999px; border:1px solid currentColor; opacity:.8; font-weight:600; }

    .grid{ display:grid; gap:20px; margin-top:24px; grid-template-columns: 1fr; }
    @media (min-width: 1024px){
      .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
      #cardPackage{ grid-column: 1 / -1; }
    }
    .card{
      border:1px solid var(--border); background: var(--card); border-radius: var(--radius-lg);
      box-shadow: var(--shadow); overflow:hidden; transition: all .3s ease;
    }
    .card:hover{ box-shadow: var(--shadow-lg); transform: translateY(-4px); }
    .card .hd{
      padding:24px; border-bottom:1px solid var(--border);
      background: linear-gradient(135deg, var(--accent-light) 0%, rgba(139,92,246,.15) 100%);
    }
    .card .hd h2{ margin:0; font-size:20px; font-weight:700; letter-spacing:-.02em; color: var(--text); }
    .card .hd p{ margin:12px 0 0; color: var(--text-muted); font-size:14px; line-height:1.6; }
    .card .bd{ padding:24px; }

    .small{ font-size:13px; color: var(--text-muted); line-height:1.6; }
    .list{ margin:10px 0 0; padding:0 0 0 20px; }
    .list li{ margin:6px 0; color: var(--text); font-size:13px; line-height:1.6; }
    .list li span{ color: var(--text-muted); }
    .hr{ height:1px; background: var(--border); margin:14px 0; }

    .price{
      margin:10px 0 0; font-size:22px; font-weight:800; letter-spacing:-.02em;
      background: linear-gradient(135deg, var(--accent) 0%, var(--purple) 100%);
      -webkit-background-clip:text; -webkit-text-fill-color: transparent; background-clip:text;
    }
    .price-toggle{ cursor: pointer; }
    .price small{ font-weight:600; font-size:12px; color: var(--text-muted); -webkit-text-fill-color: initial; }

    details{ margin-top:10px; border-top:1px dashed var(--border); padding-top:10px; }
    summary{ cursor:pointer; font-size:13px; color: var(--accent); list-style:none; }
    summary::-webkit-details-marker{ display:none; }

    .reveal{ opacity:0; transform: translateY(30px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.in{ opacity:1; transform: translateY(0); }

    .toast{
      position: fixed; left:50%; bottom:24px; transform: translateX(-50%) translateY(20px);
      background: var(--text); color: white; border: none; padding: 14px 20px; border-radius: var(--radius-sm);
      font-size:14px; font-weight:500; opacity:0; pointer-events:none;
      transition: all .3s cubic-bezier(.4,0,.2,1); z-index:1000;
      max-width: calc(100vw - 40px); text-align:center; box-shadow: var(--shadow-lg);
    }
    .toast.show{ opacity:1; transform: translateX(-50%) translateY(0); }

    @media print{
      .topbar, .actions, .btn, .tabs, .no-print { display:none !important; }
      body{ background:white; color:#111; }
      body::before, body::after { display:none; }
      .card{ box-shadow:none; page-break-inside: avoid; }
      a{ text-decoration:none; }
    }

    @media (prefers-reduced-motion: reduce){
      *, *::before, *::after{ animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; }
      body::before, body::after{ animation:none; }
    }
    *:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }
  </style>
</head>

<body>
  <header class="topbar no-print">
    <div class="wrap">
      <div class="topbar-inner">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <svg viewBox="0 0 20 20" fill="currentColor" width="28" height="28">
              <path d="M10 2a7 7 0 0 1 7 7 7 7 0 0 1-7 7 7 7 0 0 1-7-7 7 7 0 0 1 7-7Zm0 3.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Z"/>
            </svg>
          </div>
          <div style="min-width:0">
            <h1>Proposta • Reels “Mapa do Carnaval”</h1>
            <div class="sub">Single page • mobile-first • tabs de pacote • proposta objetiva</div>
          </div>
        </div>
        <div class="actions">
          <button class="btn" id="btnCopyAll" title="Copiar proposta">
            <svg viewBox="0 0 20 20" fill="currentColor"><path d="M5.5 2A2.5 2.5 0 0 0 3 4.5v8A2.5 2.5 0 0 0 5.5 15H7v-1.5H5.5a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1V6H13V4.5A2.5 2.5 0 0 0 10.5 2h-5ZM9 7.5A2.5 2.5 0 0 0 6.5 10v5.5A2.5 2.5 0 0 0 9 18h5.5a2.5 2.5 0 0 0 2.5-2.5V10a2.5 2.5 0 0 0-2.5-2.5H9ZM8 10a1 1 0 0 1 1-1h5.5a1 1 0 0 1 1 1v5.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V10Z"/></svg>
            <span class="mobile-hide">Copiar proposta</span>
          </button>
          <button class="btn" id="btnCopyLink" title="Copiar link">
            <svg viewBox="0 0 20 20" fill="currentColor"><path d="M12.354 5.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 1 0 .708.708l6-6a.5.5 0 0 0 0-.708ZM8.5 3A2.5 2.5 0 0 0 6 5.5v1A2.5 2.5 0 0 0 8.5 9h1A2.5 2.5 0 0 0 12 6.5v-1A2.5 2.5 0 0 0 9.5 3h-1Zm-1 2.5A1.5 1.5 0 0 1 9 4h1A1.5 1.5 0 0 1 11.5 5.5v1A1.5 1.5 0 0 1 10 8h-1A1.5 1.5 0 0 1 7.5 6.5v-1Z"/></svg>
            <span class="mobile-hide">Copiar link</span>
          </button>
          <button class="btn primary" id="btnPrint" title="Imprimir / PDF">
            <svg viewBox="0 0 20 20" fill="currentColor"><path d="M5 4.5A2.5 2.5 0 0 1 7.5 2h5A2.5 2.5 0 0 1 15 4.5V6h.5A2.5 2.5 0 0 1 18 8.5v4a2.5 2.5 0 0 1-2.5 2.5H15v1.5a2.5 2.5 0 0 1-2.5 2.5h-5A2.5 2.5 0 0 1 5 16.5V15h-.5A2.5 2.5 0 0 1 2 12.5v-4A2.5 2.5 0 0 1 4.5 6H5V4.5ZM6.5 15v1.5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V15h-7ZM14 6H6V4.5a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1V6Zm-8.5 1.5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-9Z"/></svg>
            <span class="mobile-hide">Imprimir / PDF</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="wrap">
        <h2 class="title">Reels (9:16) — Proposta objetiva, com limites e extras (anti-susto)</h2>
        <p class="lead">
          Estrutura enxuta para um Reels “simples”, com transição <b>mapa → festa</b>, valores fechados por pacote,
          e adicionais bem definidos para evitar surpresas. Ajuste livre dos textos no próprio HTML.
        </p>

        <div class="chips" aria-label="Resumo rápido">
          <span class="chip"><span class="dot"></span> <b>9:16</b> vertical</span>
          <span class="chip"><span class="dot good"></span> <b>PIX</b> com desconto</span>
          <span class="chip"><span class="dot warn"></span> <b>Cartão</b> com taxa embutida</span>
          <span class="chip"><b id="updatedAt">Atualizado em —</b></span>
        </div>

        <nav class="tabs no-print" role="tablist" aria-label="Pacotes">
          <button class="tab" role="tab" aria-selected="true" data-scn="A"><span class="badge">A</span> Pacote 0</button>
          <button class="tab" role="tab" aria-selected="false" data-scn="B"><span class="badge">B</span> Essencial</button>
          <button class="tab" role="tab" aria-selected="false" data-scn="C"><span class="badge">C</span> Padrão</button>
        </nav>

        <div class="grid">
          <section class="card reveal" id="cardPackage">
            <div class="hd">
              <h2 id="pkgTitle">Pacote —</h2>
              <p id="pkgDesc">—</p>
            </div>
            <div class="bd">
              <ul class="list" id="pkgList"></ul>
              <details>
                <summary id="pkgNoteTitle">Ver observações</summary>
                <p class="small" id="pkgNote">—</p>
              </details>
              <div class="price price-toggle" id="pkgPrice" role="button" tabindex="0" aria-pressed="false">—</div>
            </div>
          </section>

          <section class="card reveal" id="escopo">
            <div class="hd">
              <h2>Escopo essencial</h2>
              <p>O que está incluso e o que precisamos para iniciar.</p>
            </div>
            <div class="bd">
              <ul class="list">
                <li>1 Reels vertical (9:16) • recomendado 15–30s • máx 60s</li>
                <li>Roteiro curto + shotlist</li>
                <li>Pós: edição, sound design leve, color grading leve, motion simples (texto/CTA)</li>
                <li>1 efeito principal: “mapa → festa” por match cut + máscara</li>
              </ul>
              <div class="hr"></div>
              <h3>Você envia</h3>
              <ul class="list">
                <li>CTA final aprovado (texto)</li>
                <li>Logo/brand kit (se houver)</li>
                <li>Screen recording do mapa (ou mock, se necessário)</li>
              </ul>
            </div>
          </section>

          <section class="card reveal" id="prazos">
            <div class="hd">
              <h2>Prazos + Condições</h2>
              <p>Timeline e regras básicas de entrega.</p>
            </div>
            <div class="bd">
              <ul class="list">
                <li>D1–D2: briefing + roteiro/shotlist</li>
                <li>D3: captação</li>
                <li>D4: 1º corte</li>
                <li>D5: revisão</li>
                <li>D6: entrega final</li>
              </ul>
              <p class="small">Chroma/rotoscopia: +3 a +5 dias (dependendo do volume de recortes).</p>
              <div class="hr"></div>
              <ul class="list">
                <li>Pagamento sugerido: 50% na aprovação + 50% na entrega</li>
                <li>Prazo inicia após aprovação do pacote + envio dos assets</li>
                <li>Rodada de revisão = uma lista consolidada de ajustes</li>
              </ul>
              <p class="small">Custos não inclusos: transporte/estacionamento, figurino/props, locação paga, música licenciada.</p>
            </div>
          </section>

          <section class="card reveal" id="extras">
            <div class="hd">
              <h2>Extras essenciais</h2>
              <p>Somente o que mais costuma ser pedido.</p>
            </div>
            <div class="bd">
              <ul class="list">
                <li>Teleporte extra: <b>R$ 180</b> cada</li>
                <li>Revisão extra: <b>R$ 120</b> por rodada</li>
                <li>Legenda palavra-por-palavra: <b>R$ 180</b></li>
                <li>Chroma/rotoscopia: <b>a partir de R$ 650</b> (+ R$ 200 por cena extra)</li>
              </ul>
              <div class="hr"></div>
              <p class="small">Sugestão: para manter o projeto “simples”, evite chroma/rotoscopia e limite a 1–2 teleportes.</p>
            </div>
          </section>

          <section class="card reveal" id="checklist">
            <div class="hd">
              <h2>Checklist rápido (para fechar)</h2>
              <p>Últimas validações antes de iniciar.</p>
            </div>
            <div class="bd">
              <ul class="list">
                <li>Pacote escolhido (A/B/C)</li>
                <li>Data de captação definida</li>
                <li>CTA final aprovado</li>
                <li>Screen recording do mapa (se houver)</li>
              </ul>
              <div class="hr"></div>
              <p class="small">Você pode editar o conteúdo direto no HTML para reutilizar esse modelo em outras propostas.</p>
            </div>
          </section>
        </div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    (function(){
      const BRL = (n)=> new Intl.NumberFormat('pt-BR', { style:'currency', currency:'BRL' }).format(n);
      const PACKAGES = {
        A: {
          code:'A',
          name:'Pacote 0 — Só edição',
          title:'A • Pacote 0 — Só edição (vocês gravam / eu edito)',
          desc:'Ideal para orçamento curto. Você grava no celular e eu entrego o Reels pronto, com mapa + CTA.',
          base: 500,
          pix: 440,
          bullets:[
            'Decupagem + ritmo + trilha/áudio (sem música licenciada, se for impulsionar)',
            'Inserção do “Mapa do Carnaval” (overlay / screen recording / mock)',
            'Texto-chave/CTA (simples)',
            '1 rodada de revisão',
            '1 export final (9:16)'
          ],
          noteTitle:'Ver observações',
          note:'Se precisar de legenda palavra-por-palavra, versões extras ou efeitos adicionais, isso entra na tabela de extras.',
          includedRev: 1
        },
        B: {
          code:'B',
          name:'Pacote 1 — Essencial',
          title:'B • Pacote 1 — Essencial (captação + edição lean)',
          desc:'Melhor equilíbrio entre qualidade e velocidade. Produção enxuta com 1 teleporte (mapa → festa), sem chroma.',
          base: 1400,
          pix: 1250,
          bullets:[
            'Roteiro curto + shotlist (enxuto)',
            'Até 2h de captação • 1 locação',
            '1 teleporte incluso (match cut + máscara)',
            'Motion simples + sound design leve',
            '1 rodada de revisão • 1 export final'
          ],
          noteTitle:'Ver fora de escopo típico',
          note:'Não inclui locação paga, figurino/props específicos, autorização de espaço, nem música licenciada.',
          includedRev: 1
        },
        C: {
          code:'C',
          name:'Pacote 2 — Padrão',
          title:'C • Pacote 2 — Padrão (mais completo, ainda controlado)',
          desc:'Para “cara de campanha” sem virar produção grande. Inclui 2 teleportes + versão curta.',
          base: 1900,
          pix: 1700,
          bullets:[
            'Até 4h de captação • até 2 locações',
            '2 teleportes inclusos (match cut + máscara)',
            'Motion mais caprichado (zoom/ênfase no mapa + CTA)',
            '2 rodadas de revisão',
            '+ 1 versão curta (10–30s)'
          ],
          noteTitle:'Chroma/rotoscopia?',
          note:'“Fundo verde”/recorte refinado não está incluso por padrão (é extra, pois aumenta tempo e risco).',
          includedRev: 2
        }
      };

      const el = (id)=> document.getElementById(id);
      const toastEl = el('toast');

      function toast(msg){
        toastEl.textContent = msg || 'Copiado.';
        toastEl.classList.add('show');
        setTimeout(()=> toastEl.classList.remove('show'), 1800);
      }

      async function copyText(text){
        try{
          await navigator.clipboard.writeText(text);
          toast('Copiado para a área de transferência.');
        }catch(e){
          const ta = document.createElement('textarea');
          ta.value = text;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
          toast('Copiado (modo compatibilidade).');
        }
      }

      let priceDiscounted = false;

      function renderPackage(key){
        const pkg = PACKAGES[key];
        if(!pkg) return;
        el('pkgTitle').textContent = pkg.title;
        el('pkgDesc').textContent = pkg.desc;
        const priceEl = el('pkgPrice');
        priceEl.dataset.base = String(pkg.base);
        priceEl.dataset.pix = String(pkg.pix);
        priceDiscounted = false;
        priceEl.setAttribute('aria-pressed', 'false');
        priceEl.innerHTML = `${BRL(pkg.base)} <small>(cartão / base)</small> • <span style="color:var(--success)">${BRL(pkg.pix)}</span> <small>(PIX à vista)</small>`;

        const list = el('pkgList');
        list.innerHTML = '';
        pkg.bullets.forEach(item => {
          const li = document.createElement('li');
          li.textContent = item;
          list.appendChild(li);
        });

        el('pkgNoteTitle').textContent = pkg.noteTitle;
        el('pkgNote').textContent = pkg.note;

        document.querySelectorAll('.tab').forEach(btn=>{
          btn.setAttribute('aria-selected', btn.dataset.scn === key ? 'true' : 'false');
        });
        history.replaceState(null, '', `#${key}`);
      }

      function buildCopyText(key){
        const pkg = PACKAGES[key];
        return [
          'PROPOSTA – REELS “MAPA DO CARNAVAL” (9:16)',
          '',
          `Pacote selecionado: ${pkg.code} • ${pkg.name}`,
          `Preço cartão/base: ${BRL(pkg.base)} | PIX à vista: ${BRL(pkg.pix)}`,
          '',
          'Inclui (resumo):',
          '• 1 Reels vertical (9:16)',
          '• Edição com ritmo de Reels + sound design leve',
          '• Color grading leve + motion simples (texto/CTA)',
          '• Efeito principal: “mapa → festa” por match cut + máscara',
          `• Revisões inclusas no pacote: ${pkg.includedRev}`,
          '',
          'Condições:',
          '• 50% na aprovação + 50% na entrega',
          '• Prazo inicia após aprovação + envio dos assets',
          '• Extras só entram se solicitados (tabela fechada).'
        ].join('\n');
      }

      function initReveal(){
        const obs = new IntersectionObserver((entries)=>{
          entries.forEach(en=>{ if(en.isIntersecting) en.target.classList.add('in'); });
        }, { threshold: .12 });
        document.querySelectorAll('.reveal').forEach(el=> obs.observe(el));
      }

      const updatedAt = new Intl.DateTimeFormat('pt-BR', { dateStyle: 'medium' }).format(new Date());
      el('updatedAt').textContent = 'Atualizado em ' + updatedAt;

      document.querySelectorAll('.tab').forEach(btn=>{
        btn.addEventListener('click', ()=> renderPackage(btn.dataset.scn));
      });

      function togglePrice(){
        const priceEl = el('pkgPrice');
        const base = Number(priceEl.dataset.base || 0);
        const pix = Number(priceEl.dataset.pix || 0);
        priceDiscounted = !priceDiscounted;
        priceEl.setAttribute('aria-pressed', priceDiscounted ? 'true' : 'false');

        if(priceDiscounted){
          priceEl.innerHTML = `<span style="text-decoration:line-through; opacity:.6; font-weight:600">${BRL(base)}</span> <small>(cartão / base)</small> • <span style="color:var(--success)">${BRL(pix)}</span> <small>(PIX à vista)</small>`;
        }else{
          priceEl.innerHTML = `${BRL(base)} <small>(cartão / base)</small> • <span style="color:var(--success)">${BRL(pix)}</span> <small>(PIX à vista)</small>`;
        }
      }

      el('pkgPrice').addEventListener('click', togglePrice);
      el('pkgPrice').addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          togglePrice();
        }
      });

      el('btnCopyAll').addEventListener('click', ()=>{
        const key = (location.hash || '#B').replace('#','').toUpperCase();
        copyText(buildCopyText(PACKAGES[key] ? key : 'B'));
      });
      el('btnCopyLink').addEventListener('click', ()=> copyText(location.href));
      el('btnPrint').addEventListener('click', ()=> window.print());

      const key = (location.hash || '#B').replace('#','').toUpperCase();
      renderPackage(PACKAGES[key] ? key : 'B');
      initReveal();
    })();
  </script>
</body>
</html>
