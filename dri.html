<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ffffff" />
  <title>Proposta Comercial • Reels “Mapa do Carnaval”</title>

  <style>
    :root{
      --bg: #ffffff;
      --bg-alt: #f8f9fc;
      --card: #ffffff;
      --text: #1a202c;
      --text-muted: #64748b;
      --text-light: #94a3b8;
      --border: #e2e8f0;
      --accent: #3b82f6;
      --accent-light: #dbeafe;
      --accent-dark: #1e40af;
      --success: #10b981;
      --warning: #f59e0b;
      --purple: #8b5cf6;
      --shadow-sm: 0 1px 3px rgba(0,0,0,.08);
      --shadow: 0 4px 16px rgba(0,0,0,.08);
      --shadow-lg: 0 12px 48px rgba(0,0,0,.12);
      --radius: 16px;
      --radius-sm: 12px;
      --radius-lg: 24px;
      --max-width: 1200px;
      --spacing: 20px;
      --mono: 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
      --sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    html{ scroll-behavior: smooth; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: var(--sans);
      background: linear-gradient(135deg, #f0f9ff 0%, #f8fafc 50%, #faf5ff 100%);
      color: var(--text);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body::before,
    body::after {
      content: '';
      position: fixed;
      border-radius: 50%;
      opacity: 0.5;
      z-index: 0;
      pointer-events: none;
      animation: float 20s ease-in-out infinite;
    }
    body::before {
      width: 600px; height: 600px;
      background: radial-gradient(circle, rgba(59,130,246,.1) 0%, transparent 70%);
      top: -200px; right: -200px; animation-delay: -5s;
    }
    body::after {
      width: 400px; height: 400px;
      background: radial-gradient(circle, rgba(139,92,246,.1) 0%, transparent 70%);
      bottom: -150px; left: -150px;
    }
    @keyframes float {
      0%,100%{ transform: translate(0,0) scale(1); }
      33%{ transform: translate(30px,-30px) scale(1.1); }
      66%{ transform: translate(-20px,20px) scale(.9); }
    }

    a{ color:inherit; text-decoration:none; }
    button{ font-family:inherit; border:none; outline:none; }
    .wrap{ width:100%; max-width: var(--max-width); margin:0 auto; padding:0 var(--spacing); position: relative; z-index:1; }
    img, svg, video, canvas { max-width:100%; height:auto; }

    .topbar{
      position: sticky; top:0; z-index:100;
      backdrop-filter: blur(20px) saturate(180%);
      background: rgba(255,255,255,.85);
      border-bottom: 1px solid var(--border);
      box-shadow: var(--shadow-sm);
    }
    .topbar-inner{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:16px 0; min-height:72px;
    }
    .brand{ display:flex; align-items:center; gap:12px; min-width:0; flex:1; }
    .logo{
      width:48px; height:48px; border-radius: var(--radius-sm);
      background: linear-gradient(135deg, var(--accent) 0%, var(--purple) 100%);
      box-shadow: var(--shadow); display:grid; place-items:center; flex-shrink:0;
      animation: logoEntry .6s cubic-bezier(.34,1.56,.64,1);
    }
    @keyframes logoEntry{
      from{ transform: scale(0) rotate(-180deg); opacity:0; }
      to{ transform: scale(1) rotate(0); opacity:1; }
    }
    .brand h1{
      font-size:15px; font-weight:700; margin:0; line-height:1.3; letter-spacing:-.02em;
      color: var(--text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    @media (min-width:640px){ .brand h1{ font-size:18px; } }
    .brand .sub{ display:none; font-size:13px; color: var(--text-muted); margin-top:2px; line-height:1.4; }
    @media (min-width:768px){ .brand .sub{ display:block; } }

    .actions{ display:flex; gap:8px; flex-shrink:0; }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:6px;
      border:1px solid var(--border); background: var(--card); color: var(--text);
      padding:10px 14px; border-radius: var(--radius-sm); cursor:pointer;
      transition: all .2s cubic-bezier(.4,0,.2,1); user-select:none; min-height:44px;
      font-size:14px; font-weight:500; white-space:nowrap;
    }
    .btn:hover{ transform: translateY(-2px); box-shadow: var(--shadow); border-color: var(--accent); }
    .btn:active{ transform: translateY(0); }
    .btn.primary{ border-color: var(--accent); background: var(--accent); color:white; }
    .btn.primary:hover{ background: var(--accent-dark); border-color: var(--accent-dark); }
    .btn svg{ width:18px; height:18px; }
    .btn span.mobile-hide{ display:none; }
    @media (min-width:640px){ .btn span.mobile-hide{ display:inline; } }

    main{ padding:24px 0 60px; }
    .hero{ padding:0 0 24px; animation: fadeInUp .6s ease-out; }
    @keyframes fadeInUp{ from{ opacity:0; transform: translateY(20px);} to{ opacity:1; transform: translateY(0);} }

    .title{
      font-size:28px; line-height:1.2; margin:0 0 16px; letter-spacing:-.02em; font-weight:800;
      background: linear-gradient(135deg, var(--accent) 0%, var(--purple) 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip:text;
    }
    @media (min-width:768px){ .title{ font-size:36px; } }
    @media (min-width:1024px){ .title{ font-size:42px; } }
    @media (min-width:1280px){ .title{ font-size:48px; } }
    .lead{ margin:0; color: var(--text-muted); font-size:15px; line-height:1.7; max-width:70ch; }
    @media (min-width:768px){ .lead{ font-size:16px; } }

    .chips{ display:flex; flex-wrap:wrap; gap:10px; margin-top:20px; }
    .chip{
      border:1px solid var(--border); background: var(--card); padding:10px 14px; border-radius:999px;
      font-size:13px; color: var(--text-muted); display:inline-flex; align-items:center; gap:8px;
      transition: all .3s ease; animation: chipPop .5s cubic-bezier(.34,1.56,.64,1) both;
    }
    .chip:nth-child(1){ animation-delay:.1s; }
    .chip:nth-child(2){ animation-delay:.2s; }
    .chip:nth-child(3){ animation-delay:.3s; }
    .chip:nth-child(4){ animation-delay:.4s; }
    @keyframes chipPop{ from{ opacity:0; transform: scale(.5);} to{ opacity:1; transform: scale(1);} }
    .chip:hover{ transform: translateY(-2px); box-shadow: var(--shadow-sm); }
    .chip b{ color: var(--text); font-weight:600; }
    .dot{ width:8px; height:8px; border-radius:50%; background: var(--accent); animation:pulse 2s ease-in-out infinite; }
    .dot.good{ background: var(--success); }
    .dot.warn{ background: var(--warning); }
    @keyframes pulse{ 0%,100%{ opacity:1; transform: scale(1);} 50%{ opacity:.7; transform: scale(1.2);} }

    .tabs{
      margin-top:24px; display:flex; gap:10px; overflow-x:auto; overflow-y:hidden; padding-bottom:8px;
      scrollbar-width: thin; scrollbar-color: var(--border) transparent; -webkit-overflow-scrolling: touch;
    }
    .tabs::-webkit-scrollbar{ height:6px; }
    .tabs::-webkit-scrollbar-track{ background: transparent; }
    .tabs::-webkit-scrollbar-thumb{ background: var(--border); border-radius:3px; }
    .tab{
      flex-shrink:0; border:2px solid var(--border); background: var(--card); color: var(--text-muted);
      padding:12px 18px; border-radius:999px; cursor:pointer; transition: all .3s cubic-bezier(.4,0,.2,1);
      font-size:14px; font-weight:500; display:inline-flex; gap:8px; align-items:center; white-space:nowrap;
    }
    .tab:hover{ transform: translateY(-2px) scale(1.02); box-shadow: var(--shadow); }
    .tab[aria-selected="true"]{
      color:white; border-color: var(--accent);
      background: linear-gradient(135deg, var(--accent) 0%, var(--purple) 100%);
      box-shadow: var(--shadow); transform: translateY(-2px);
    }
    .badge{ font-family: var(--mono); font-size:11px; padding:4px 8px; border-radius:999px; border:1px solid currentColor; opacity:.8; font-weight:600; }

    .grid{ display:grid; gap:20px; margin-top:24px; grid-template-columns: 1fr; }
    @media (min-width: 1024px){
      .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
      #cardPackage{ grid-column: 1 / -1; }
    }
    .card{
      border:1px solid var(--border); background: var(--card); border-radius: var(--radius-lg);
      box-shadow: var(--shadow); overflow:hidden; transition: all .3s ease;
    }
    .card:hover{ box-shadow: var(--shadow-lg); transform: translateY(-4px); }
    .card .hd{
      padding:24px; border-bottom:1px solid var(--border);
      background: linear-gradient(135deg, var(--accent-light) 0%, rgba(139,92,246,.15) 100%);
    }
    .card .hd h2{ margin:0; font-size:20px; font-weight:700; letter-spacing:-.02em; color: var(--text); }
    .card .hd p{ margin:12px 0 0; color: var(--text-muted); font-size:14px; line-height:1.6; }
    .card .bd{ padding:24px; }

    .pkg-layout{ display:grid; gap:18px; min-width:0; }
    @media (min-width: 900px){
      .pkg-layout{ grid-template-columns: minmax(0, 1fr) 280px; align-items:start; }
      .pkg-aside{ position: sticky; top: 96px; }
    }
    .pkg-aside{ display:flex; align-items:center; justify-content:center; }

    .small{ font-size:13px; color: var(--text-muted); line-height:1.6; }
    .list{ margin:10px 0 0; padding:0 0 0 20px; }
    .list li{ margin:6px 0; color: var(--text); font-size:13px; line-height:1.6; }
    .list li span{ color: var(--text-muted); }
    .hr{ height:1px; background: var(--border); margin:14px 0; }

    .price{
      margin:10px 0 0;
      display:flex; flex-direction:column; gap:10px;
      padding:14px 16px; border:1px solid var(--border);
      border-radius: 14px; background: rgba(255,255,255,.7);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
      text-align:center; align-items:center; width:100%;
    }
    .card, .card .bd, .list, .chips, .tabs { min-width:0; }
    .chip{ max-width:100%; }

    @media (max-width: 480px){
      :root{ --spacing: 14px; }
      .topbar-inner{ padding:12px 0; }
      .title{ font-size:24px; }
      .lead{ font-size:14px; }
      .tab{ padding:10px 14px; }
      .card .hd, .card .bd{ padding:18px; }
      .price-amount{ font-size:24px; }
    }
    .price-toggle{ cursor: pointer; }
    .price-label{ font-size:12px; letter-spacing:.08em; text-transform:uppercase; color: var(--text-muted); font-weight:700; }
    .price-amount{
      font-size:26px; font-weight:800; letter-spacing:-.02em;
      background: linear-gradient(135deg, var(--accent) 0%, var(--purple) 100%);
      -webkit-background-clip:text; -webkit-text-fill-color: transparent; background-clip:text;
    }
    .price-hint{ font-size:12px; color: var(--text-muted); }
    .price-cta{ font-size:12px; font-weight:700; color: var(--accent); }
    .price-toggle:hover .price-cta{ color: var(--accent-dark); }
    .price.is-discount .price-amount{
      background: linear-gradient(135deg, #10b981 0%, #22c55e 100%);
      -webkit-background-clip:text; -webkit-text-fill-color: transparent; background-clip:text;
    }

    details{ margin-top:10px; border-top:1px dashed var(--border); padding-top:10px; }
    summary{ cursor:pointer; font-size:13px; color: var(--accent); list-style:none; }
    summary::-webkit-details-marker{ display:none; }

    .reveal{ opacity:0; transform: translateY(30px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.in{ opacity:1; transform: translateY(0); }

    .toast{
      position: fixed; left:50%; bottom:24px; transform: translateX(-50%) translateY(20px);
      background: var(--text); color: white; border: none; padding: 14px 20px; border-radius: var(--radius-sm);
      font-size:14px; font-weight:500; opacity:0; pointer-events:none;
      transition: all .3s cubic-bezier(.4,0,.2,1); z-index:1000;
      max-width: calc(100vw - 40px); text-align:center; box-shadow: var(--shadow-lg);
    }
    .toast.show{ opacity:1; transform: translateX(-50%) translateY(0); }

    @media print{
      .topbar, .actions, .btn, .tabs, .no-print { display:none !important; }
      body{ background:white; color:#111; }
      body::before, body::after { display:none; }
      .card{ box-shadow:none; page-break-inside: avoid; }
      a{ text-decoration:none; }
    }

    @media (prefers-reduced-motion: reduce){
      *, *::before, *::after{ animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; }
      body::before, body::after{ animation:none; }
    }
    *:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }
  </style>
</head>

<body>
  <header class="topbar no-print">
    <div class="wrap">
      <div class="topbar-inner">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <svg viewBox="0 0 20 20" fill="currentColor" width="28" height="28">
              <path d="M10 2a7 7 0 0 1 7 7 7 7 0 0 1-7 7 7 7 0 0 1-7-7 7 7 0 0 1 7-7Zm0 3.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Z"/>
            </svg>
          </div>
          <div style="min-width:0">
            <h1>Proposta Comercial • Reels “Mapa do Carnaval”</h1>
            <div class="sub">Obra audiovisual 9:16 • narrativa + direção + pós-produção • pacotes claros • extras controlados</div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="wrap">
        <h2 class="title">Mapa do Carnaval</h2>
        <p class="lead">
          Uma peça audiovisual bem construída: abertura com o mapa, transição para a festa, ritmo, continuidade, som e cor.
          Você escolhe o nível de produção por pacote; valores fechados, prazos estimados e extras definidos antes de começar.
        </p>

        <div class="chips" aria-label="Resumo rápido">
          <span class="chip"><span class="dot"></span> <b>9:16</b> vertical</span>
          <span class="chip"><span class="dot good"></span> <b>Desconto</b> disponível</span>
          <span class="chip"><b id="updatedAt">Atualizado em —</b></span>
        </div>

        <nav class="tabs no-print" role="tablist" aria-label="Pacotes">
          <button class="tab" role="tab" aria-selected="true" data-scn="A"><span class="badge">A</span> Edição</button>
          <button class="tab" role="tab" aria-selected="false" data-scn="B"><span class="badge">B</span> Essencial</button>
          <button class="tab" role="tab" aria-selected="false" data-scn="C"><span class="badge">C</span> Cinemático</button>
        </nav>

        <div class="grid">
          <section class="card reveal" id="cardPackage">
            <div class="hd">
              <h2 id="pkgTitle">Pacote —</h2>
              <p id="pkgDesc">—</p>
            </div>
            <div class="bd">
              <div class="pkg-layout">
                <div class="pkg-main">
                  <ul class="list" id="pkgList"></ul>
                  <details>
                    <summary id="pkgNoteTitle">Ver observações</summary>
                    <p class="small" id="pkgNote">—</p>
                  </details>
                </div>
                <aside class="pkg-aside">
                  <div class="price price-toggle" id="pkgPrice" role="button" tabindex="0" aria-pressed="false">—</div>
                </aside>
              </div>
            </div>
          </section>

          <section class="card reveal" id="escopo">
            <div class="hd">
              <h2>Escopo essencial</h2>
              <p>O que entregamos e o que precisamos para executar com qualidade audiovisual.</p>
            </div>
            <div class="bd">
              <ul class="list">
                <li>1 Reels vertical (9:16) • recomendado 15–30s • máximo 60s</li>
                <li>Concepção (gancho) + roteiro objetivo + shotlist (plano de captação)</li>
                <li>Direção de cena (quando houver captação) focada em continuidade e leitura do mapa</li>
                <li>Pós-produção: montagem, ritmo, som (sound design), cor (color grade) e finalização</li>
                <li>Textos na tela + CTA com identidade visual consistente</li>
                <li>1 efeito principal: transição “mapa → festa” via match cut + máscara</li>
              </ul>
              <div class="hr"></div>
              <h3>Materiais necessários</h3>
              <ul class="list">
                <li>CTA final aprovado (texto + @/link, se houver)</li>
                <li>Logo/brand kit (cores, tipografia e referências, se houver)</li>
                <li>Captura do mapa (screen recording) ou acesso ao material/arte</li>
                <li>2–3 referências (opcional) para alinhar linguagem, ritmo e estética</li>
              </ul>
            </div>
          </section>

          <section class="card reveal" id="prazos">
            <div class="hd">
              <h2>Prazos + Condições</h2>
              <p>Cronograma estimado e condições para manter qualidade e previsibilidade.</p>
            </div>
            <div class="bd">
              <ul class="list">
                <li>Dia 1–2: briefing + roteiro/shotlist</li>
                <li>Dia 3: captação (quando inclusa no pacote)</li>
                <li>Dia 4: primeiro corte</li>
                <li>Dia 5: ajustes (rodada de revisão)</li>
                <li>Dia 6: entrega final</li>
              </ul>
              <p class="small">Recortes avançados (chroma/rotoscopia): +3 a +5 dias (conforme complexidade).</p>
              <div class="hr"></div>
              <ul class="list">
                <li>Pagamento sugerido: 50% na aprovação do pacote + 50% na entrega</li>
                <li>Prazo conta após aprovação + recebimento dos materiais necessários</li>
                <li>Rodada de revisão = uma lista única e consolidada de ajustes</li>
              </ul>
              <p class="small">Não inclusos (quando aplicável): deslocamento/estacionamento, figurino/props, locação paga, autorizações e música licenciada.</p>
            </div>
          </section>

        </div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    (function(){
      const BRL = (n)=> new Intl.NumberFormat('pt-BR', { style:'currency', currency:'BRL' }).format(n);
      const PACKAGES = {
        A: {
          code:'A',
          name:'Edição — vocês gravam',
          title:'A • Edição (vocês gravam / eu finalizo)',
          desc:'Para quem já tem o material gravado e quer um Reels com narrativa clara, integração do mapa e acabamento profissional (som/cor).',
          base: 500,
          pix: 440,
          bullets:[
            'Curadoria do material + montagem com ritmo e intenção (gancho → entrega → CTA)',
            'Tratamento de áudio + trilha (licenciamento para mídia paga é à parte, se necessário)',
            'Integração do “Mapa do Carnaval” (overlay / screen recording / mock)',
            'Textos na tela + CTA final (simples e direto)',
            '1 rodada de revisão',
            'Entrega final em 9:16 (MP4) pronta para publicar'
          ],
          noteTitle:'Ver observações',
          note:'Legenda palavra por palavra, versões adicionais, adaptações para anúncios e efeitos avançados entram como extras (pré-combinados).',
          includedRev: 1
        },
        B: {
          code:'B',
          name:'Essencial — captação + edição',
          title:'B • Essencial (captação + edição enxuta)',
          desc:'Equilíbrio entre qualidade e velocidade. Captação objetiva e pós bem resolvida, com 1 transição “mapa → festa” e acabamento audiovisual.',
          base: 1000,
          pix: 880,
          bullets:[
            'Briefing + roteiro/shotlist (gancho e estrutura)',
            'Até 2h de captação • 1 locação',
            '1 transição/teleporte (match cut + máscara)',
            'Edição + color grade + sound design leve',
            'Textos/CTA com identidade visual consistente',
            '1 rodada de revisão • entrega final 9:16'
          ],
          noteTitle:'Observações de escopo',
          note:'Não inclui locação paga, figurino/props específicos, autorizações, deslocamentos/estacionamento, nem música licenciada (quando necessária).',
          includedRev: 1
        },
        C: {
          code:'C',
          name:'Cinemático — direção e acabamento',
          title:'C • Cinemático (mais impacto, mais construção)',
          desc:'Para uma peça com mais direção, construção e acabamento — sem virar produção gigante. Inclui 2 transições, cor mais trabalhada e versão curta.',
          base: 1400,
          pix: 1250,
          bullets:[
            'Direção + captação com foco em continuidade (até 4h) • até 2 locações',
            'Roteiro/shotlist mais detalhado (batidas e intenção de cena)',
            '2 transições/teleportes (match cut + máscara) com acabamento superior',
            'Color grade mais cinematográfico + sound design mais presente',
            'Motion e tipografia mais refinados (ênfases no mapa, títulos e CTA)',
            '2 rodadas de revisão',
            'Entrega principal + 1 versão curta (10–30s)'
          ],
          noteTitle:'Chroma/recortes avançados',
          note:'Chroma/rotoscopia (recortes complexos e refinamento) não está incluso — entra como extra, pois aumenta tempo de pós e risco de retrabalho.',
          includedRev: 2
        }
      };

      const el = (id)=> document.getElementById(id);
      const toastEl = el('toast');

      function toast(msg){
        toastEl.textContent = msg || 'Copiado.';
        toastEl.classList.add('show');
        setTimeout(()=> toastEl.classList.remove('show'), 1800);
      }

      async function copyText(text){
        try{
          await navigator.clipboard.writeText(text);
          toast('Copiado para a área de transferência.');
        }catch(e){
          const ta = document.createElement('textarea');
          ta.value = text;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
          toast('Copiado (modo compatibilidade).');
        }
      }

      let priceDiscounted = false;

      function renderPackage(key){
        const pkg = PACKAGES[key];
        if(!pkg) return;
        el('pkgTitle').textContent = pkg.title;
        el('pkgDesc').textContent = pkg.desc;
        const priceEl = el('pkgPrice');
        priceEl.dataset.base = String(pkg.base);
        priceEl.dataset.pix = String(pkg.pix);
        priceDiscounted = false;
        priceEl.setAttribute('aria-pressed', 'false');
        priceEl.classList.remove('is-discount');
        priceEl.innerHTML = `
          <div class="price-label">Valor base</div>
          <div class="price-amount">${BRL(pkg.base)}</div>
          <div class="price-hint">Clique para revelar o valor com desconto</div>
          <div class="price-cta">Ver desconto</div>
        `;

        const list = el('pkgList');
        list.innerHTML = '';
        pkg.bullets.forEach(item => {
          const li = document.createElement('li');
          li.textContent = item;
          list.appendChild(li);
        });

        el('pkgNoteTitle').textContent = pkg.noteTitle;
        el('pkgNote').textContent = pkg.note;

        document.querySelectorAll('.tab').forEach(btn=>{
          btn.setAttribute('aria-selected', btn.dataset.scn === key ? 'true' : 'false');
        });
        history.replaceState(null, '', `#${key}`);
      }

      function buildCopyText(key){
        const pkg = PACKAGES[key];
        return [
          'PROPOSTA COMERCIAL — REELS “MAPA DO CARNAVAL” (9:16)',
          '',
          `Pacote selecionado: ${pkg.code} • ${pkg.name}`,
          `Valor base: ${BRL(pkg.base)} | Valor com desconto: ${BRL(pkg.pix)}`,
          '',
          'Inclui (resumo):',
          '• 1 Reels vertical (9:16)',
          '• Roteiro/shotlist (conforme pacote)',
          '• Edição com ritmo de Reels + tratamento de áudio',
          '• Ajustes de cor + motion/textos/CTA',
          '• Transição “mapa → festa” via match cut + máscara',
          `• Revisões inclusas no pacote: ${pkg.includedRev}`,
          '',
          'Condições:',
          '• 50% na aprovação + 50% na entrega',
          '• Prazo conta após aprovação + recebimento dos materiais',
          '• Extras somente mediante solicitação e orçamento/valores definidos previamente.'
        ].join('\n');
      }

      function initReveal(){
        const obs = new IntersectionObserver((entries)=>{
          entries.forEach(en=>{ if(en.isIntersecting) en.target.classList.add('in'); });
        }, { threshold: .12 });
        document.querySelectorAll('.reveal').forEach(el=> obs.observe(el));
      }

      const updatedAt = new Intl.DateTimeFormat('pt-BR', { dateStyle: 'medium' }).format(new Date());
      el('updatedAt').textContent = 'Atualizado em ' + updatedAt;

      document.querySelectorAll('.tab').forEach(btn=>{
        btn.addEventListener('click', ()=> renderPackage(btn.dataset.scn));
      });

      function togglePrice(){
        const priceEl = el('pkgPrice');
        const base = Number(priceEl.dataset.base || 0);
        const pix = Number(priceEl.dataset.pix || 0);
        priceDiscounted = !priceDiscounted;
        priceEl.setAttribute('aria-pressed', priceDiscounted ? 'true' : 'false');

        if(priceDiscounted){
          priceEl.classList.add('is-discount');
          priceEl.innerHTML = `
            <div class="price-label">Valor com desconto</div>
            <div class="price-amount">${BRL(pix)}</div>
            <div class="price-hint">Clique para voltar ao valor base</div>
            <div class="price-cta">Ver valor base</div>
          `;
          toast('Desconto aplicado.');
        }else{
          priceEl.classList.remove('is-discount');
          priceEl.innerHTML = `
            <div class="price-label">Valor base</div>
            <div class="price-amount">${BRL(base)}</div>
            <div class="price-hint">Clique para revelar o valor com desconto</div>
            <div class="price-cta">Ver desconto</div>
          `;
          toast('Valor base restaurado.');
        }
      }

      el('pkgPrice').addEventListener('click', togglePrice);
      el('pkgPrice').addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          togglePrice();
        }
      });

      const btnCopyAll = el('btnCopyAll');
      if(btnCopyAll){
        btnCopyAll.addEventListener('click', ()=>{
          const key = (location.hash || '#B').replace('#','').toUpperCase();
          copyText(buildCopyText(PACKAGES[key] ? key : 'B'));
        });
      }

      const btnCopyLink = el('btnCopyLink');
      if(btnCopyLink){
        btnCopyLink.addEventListener('click', ()=> copyText(location.href));
      }

      const btnPrint = el('btnPrint');
      if(btnPrint){
        btnPrint.addEventListener('click', ()=> window.print());
      }

      const key = (location.hash || '#B').replace('#','').toUpperCase();
      renderPackage(PACKAGES[key] ? key : 'B');
      initReveal();
    })();
  </script>
</body>
</html>
